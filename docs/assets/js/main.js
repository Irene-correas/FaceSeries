"use strict";const button=document.querySelector(".page__btn");let containerList=document.querySelector(".js-container-list"),arrayFilms=[],arrayFavorites=[];function getCharacter(){console.log("entro");let e=document.querySelector(".page__input").value;fetch("//api.tvmaze.com/search/shows?q="+e).then(e=>e.json()).then(e=>{arrayFilms=e,paintMovies(),listenMovies(),console.log(arrayFilms)})}function paintMovies(){let e="",t="";for(const o of arrayFilms)e=null===o.show.image?"//via.placeholder.com/210x295/ffffff/666666/?text = TV":o.show.image.medium,t+=`<li class= "js-movies movies__name" movieId="${o.show.id}" > ${o.show.name}`,t+=`<img class="movies__image" src="${e}">`,t+="</li>";containerList.innerHTML=t}function listenMovies(){const e=document.querySelectorAll(".js-movies");for(let t=0;t<e.length;t++)e[t].addEventListener("click",selectFavorites)}function selectFavorites(e){const t=e.currentTarget;t.classList.toggle("movies-favorite"),console.log(t);let o=t.getAttribute("movieId");for(let e=0;e<arrayFilms.length;e++)arrayFilms[e].show.id===parseInt(o)&&(arrayFilms[e].isFavorite=!arrayFilms[e].isFavorite);const i=arrayFilms.filter((function(e){if(!0===e.isFavorite)return e}));localStorage.setItem("favorites",JSON.stringify(i));const s=localStorage.getItem("favorites");console.log(s),console.log(arrayFilms),paintMoviesFavorites()}function paintMoviesFavorites(){let e="";for(const t of arrayFilms)!0===t.isFavorite&&(e+='<li class= "js-movies movies__name">'+t.show.name,e+=`<img class="movies__image" src="${t.show.image.medium}">`,e+="</li>");document.querySelector(".js-list").innerHTML=e}button.addEventListener("click",getCharacter),button.click();